<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Secure Password Manager</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
       body {
    font-family: "Poppins", sans-serif;
    background: linear-gradient(135deg, #342c2c, #082624);
    margin: 0;
    padding: 20px;
    color: #333;
}

/* Container styling */
.container {
    max-width: 600px;
    margin: auto;
    background: #e0dadacc;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    text-align: center;
}

/* Headings */
h2 {
    font-size: 26px;
    font-weight: 700;
    color: #b3848e;
    margin-bottom: 20px;
}

h3 {
    font-size: 20px;
    color: #6a5acd;
    margin-top: 25px;
}

/* Input fields */
input[type="text"],
input[type="password"] {
    width: 90%;
    padding: 12px;
    margin: 8px 0;
    border-radius: 12px;
    border: 2px solid #ffb6c1;
    outline: none;
    font-size: 15px;
    transition: 0.3s;
}

input:focus {
    border-color: #ff6f91;
    box-shadow: 0 0 8px #ffb6c1;
}

/* Button */
button, input[type="submit"] {
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    border: none;
    color: white;
    padding: 12px 18px;
    font-size: 16px;
    border-radius: 15px;
    cursor: pointer;
    transition: 0.3s;
}

button:hover, input[type="submit"]:hover {
    background: linear-gradient(135deg, #fad0c4, #ff9a9e);
    transform: scale(1.05);
}

/* Security info box */
.security-box {
    background: #000000;
    padding: 20px;
    border-radius: 15px;
    margin-top: 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    text-align: left;
}

/* Links */
a {
    color: #6a5acd;
    text-decoration: none;
    font-weight: bold;
}

a:hover {
    text-decoration: underline;
}

    </style>
</head>

<body>
    <div class="container">
        <h2>üîê Secure Password Manager</h2>

        <input type="password" id="masterKey" placeholder="Enter Master Key" />

        <h3>Add New Password</h3>
        <input type="text" id="site" placeholder="Website Name (e.g., facebook.com)" />
        <input type="text" id="username" placeholder="Username or Email" />
        <input type="password" id="password" placeholder="Password" />
        <button onclick="savePassword()">Save Password</button>

        <h3>Stored Passwords</h3>
        <div id="passwordList"></div>
    </div>

    <script>
        const masterKeyInput = document.getElementById('masterKey');

        function encrypt(text, key) {
            return CryptoJS.AES.encrypt(text, key).toString();
        }

        function decrypt(cipher, key) {
            try {
                return CryptoJS.AES.decrypt(cipher, key).toString(CryptoJS.enc.Utf8);
            } catch (e) {
                return null;
            }
        }

        function savePassword() {
            const site = document.getElementById('site').value;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const masterKey = masterKeyInput.value;

            if (!site || !username || !password || !masterKey) {
                alert("Please fill in all fields including master key.");
                return;
            }

            const encrypted = {
                site: encrypt(site, masterKey),
                username: encrypt(username, masterKey),
                password: encrypt(password, masterKey)
            };

            const stored = JSON.parse(localStorage.getItem("passwords") || "[]");
            stored.push(encrypted);
            localStorage.setItem("passwords", JSON.stringify(stored));

            alert("‚úÖ Password saved securely!");
            loadPasswords();
        }

        function loadPasswords() {
            const list = document.getElementById('passwordList');
            const masterKey = masterKeyInput.value;
            const stored = JSON.parse(localStorage.getItem("passwords") || "[]");

            list.innerHTML = '';

            stored.forEach((entry, index) => {
                const site = decrypt(entry.site, masterKey);
                const username = decrypt(entry.username, masterKey);
                const password = decrypt(entry.password, masterKey);

                if (!site || !username || !password) {
                    list.innerHTML += `<div class="entry"></div>`;
                } else {
                    list.innerHTML += `
            <div class="entry">
              <strong>üîó ${site}</strong>
              üë§ ${username}<br>
              üîë ${password}
              <br><button onclick="deleteEntry(${index})">üóë Delete</button>
            </div>
          `;
                }
            });
        }

        function deleteEntry(index) {
            const stored = JSON.parse(localStorage.getItem("passwords") || "[]");
            stored.splice(index, 1);
            localStorage.setItem("passwords", JSON.stringify(stored));
            loadPasswords();
        }

        // Load passwords when page loads
        masterKeyInput.addEventListener('input', loadPasswords);
    </script>
    <section style="padding: 1rem; background-color: #113c2a;color:antiquewhite; border-radius: 12px; margin-top: 2rem;">
  <h2>üîê Security Information</h2>
  <p>
    Your passwords are encrypted in your browser using <strong>AES-256</strong>.
    This website does not send or store any information on a server. 
    All data is processed locally. Only you can decrypt your saved passwords using your master key.
  </p>
  <p style="color: green;"><strong>‚úî Safe, Secure, and Private</strong></p>
</section>

</body>
    <footer style="text-align: center; padding: 10px;">
  <p>
    üîó <a href="https://github.com/afomi23/secure-password-manager" target="_blank">GitHub Project</a>
  </p>
</footer>


</html>
